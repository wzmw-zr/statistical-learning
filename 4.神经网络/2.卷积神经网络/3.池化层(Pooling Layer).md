# 池化层(Pooling Layer)

池化(Pooling)是CNN中的一个重要概念，实际上是一种形式的**降采样**。

下采样图像，**不会改变图像目标**：**降低计算量，减少特征冗余**。

## 一、降采样(downsampled)或下采样(subsampled)

1. **缩小图像**，即降采样(downsampled)或下采样(subsampled)，其主要目的是：

   + **使图像符合显示区域的大小**
   + **生成对应图像的缩略图**

2. 降采样的原理：

   对于一副尺寸$M\times N$的图像，对其进行s倍的下采样，即得到$(\frac{M}{s}\times\frac{N}{s})$尺寸的分辨率图像，$s$得是$M,N$的公约数。将原始图像$s\times s$窗口内的图像变成一个像素，**采用的降采样函数就是池化函数，常用的池化函数有：最大池化、平均值池化、L2池化等。**



## 二、上采样(upsampling)或图像插值(interpolating)

1. **放大图像**，即上采样(upsampling)或图像插值(interpolating)，其主要目的是放大原图像，从而可以显示在更高分辨率的显示设备上。

2. 上采样的原理：

   图像的放大几乎都是采用**内插值方法**，即在原有图像像素的基础上在像素点之间采用合适的插值算法插入新的元素。**插值算法包括了：(1)传统插值 (2)基于边缘图像的插值 (3)基于区域的图像插值。**

> 对图像的缩放操作并不能带来更多关于该图像的信息，因此图像的质量将不可避免地受到影响。然而确实有一些缩放方法能够增加图像的信息，从而使得缩放后的图像超过原图质量。



## 三、池化

1. 池化：**一个像素**表示**一块区域**的像素值，降低图像分辨率。

2. 一块区域像素如何被一个像素代替：

   + 方法1：Max Pooling，最大池化，取最大值。
   + 方法2：Average Pooling，平均池化，取平均值。

3. **输出尺寸**：与卷积操作类似：
   $$
   F_{out} = \lfloor\frac{F_{in}-k+2p}{s}\rfloor+1
   $$
   **==池化层无可学习参数==**。

   > 起名为pooling，可能是认为一堆数字汇总到一个地方，就像水聚集在池子里。

   > ==从某种角度理解，池化可以看做是特殊的卷积，池化层可以看做是特殊的卷积层。==

4. **池化的作用**：

   + 缓解卷积层对位置过度敏感。(因为仅仅是改变一个像素，也会影响卷积的结果)
   + 减少冗余。
   + 降低图像分辨率，从而减少参数量。

