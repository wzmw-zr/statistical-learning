# 卷积的数学定义

## 一、一元函数的卷积

### 1.连续卷积

函数$f,g$是定义在$R^n$上的可测函数，$f$与$g$的卷积记做$f*g$，**它是其中一个函数翻转，并平移后，与另一个函数的乘积的积分，是对一个平移量的函数**。即：
$$
y(z)=(f*g)(z)=\int_{R^n}f(x)g(z-x)\mathrm{d}x
$$

### 2.离散卷积

对于定义在整数Z上的函数$f,g$，离散卷积定义为：
$$
y(n)=(f*g)(n)=\sum_{m=-\infty}^{\infty}f(m)g(n-m)
$$

> 离散卷积的计算就可以用快速傅立叶变换(FFT)。

**卷积算子的性质：**

+ 交换律：$f*g=g*f$。
+ 结合律：$f*(g*h)=(f*g)*h$。
+ 分配律：$f*(g+h)=(f*g)+(f*h)$。
+ 数乘结合律：$a(f*g)=(af)*g=f*(ag)$。
+ 微分定理：$D(f*g)=Df*g=f*Dg$。
+ 卷积定理：两函数的傅里叶变换的乘积等于它们卷积后的傅里叶变换。

**卷积的应用：**

+ **代数**：整数乘法，多项式乘法都是卷积。
+ **概率论**：两个独立随机变量X与Y的和的概率密度函数是X与Y的概率密度函数的卷积。
+ **统计学**：加权的滑动平均是一种卷积。
+ **图像处理**：用做图像模糊，锐化，边缘检测。

> 多元函数的卷积：
> $$
> (f*g)(z_1,z_2,...z_n)=\int\int...\int f(x_1,x_2,...,x_n)g(z_1-x_1,z_2-x_2,...,z_n-x_n)\mathrm{d}x_1\mathrm{d}x_2...\mathrm{d}x_n
> $$

> **==卷积实际上就是：翻转 + 平移 + 乘积 + 积分。==**(卷积的公式具有某种中心对称的性质)。



## 二、离散卷积在图像处理中的作用

在图像处理中，要处理的实际上是一个个像素点，使用卷积的话就是使用离散卷积。

通过对图片进行卷积操作，可以对图片进行某种效果的增强或者减弱，比如图片的**平滑、模糊、去噪、锐化、边缘提取**等工作。通过卷积操作，我们可以发现图片中的某些特征(比如物体的边缘信息)，而深度学习做的最重要的工作之一是发现数据的特征，这是卷及神经网络诞生的原因。

>  **卷积核**：图像处理时，给定输入图像，输入图像中一个小区域中像素加权平均后成为输出图像中的每个对应像素，其中权值由一个函数定义，这个函数称为卷积核，可以理解为权值矩阵。



